<!DOCTYPE html>
<html>
<head>
    <title>Database.js 测试</title>
</head>
<body>
    <h1>Database.js 加载测试</h1>
    <div id="result"></div>
    
    <script src="modules/api.js?v=17.0"></script>
    <script src="modules/database.js?v=7.0"></script>
    <script>
        const resultDiv = document.getElementById('result');
        
        // 等待DOM加载完成
        window.addEventListener('DOMContentLoaded', () => {
            if (typeof window.db !== 'undefined') {
                resultDiv.innerHTML = '<p style="color:green">✅ window.db 已成功创建!</p>';
                resultDiv.innerHTML += '<p>可用方法: ' + Object.keys(window.db).join(', ') + '</p>';
            } else {
                resultDiv.innerHTML = '<p style="color:red">❌ window.db 未定义!</p>';
            }
        });
        
        // 立即检查
        setTimeout(() => {
            console.log('window.db:', window.db);
            console.log('typeof window.db:', typeof window.db);
        }, 100);
    </script>
</body>
</html>
