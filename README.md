# ERP移动端项目

> 独立Vue3项目，实现业务模块化与PC端完全解耦

## 📋 项目信息

- **项目名称：** mobile-erp
- **版本：** v1.0.0
- **框架：** Vue3 + Vant + Vite
- **API前缀：** `/api/mobile/*`
- **域名：** https://m.erp.xnamb.cn
- **创建日期：** 2026-02-15

## 🎯 核心目标

1. **业务场景模块化** - PC端与移动端功能独立
2. **PC/移动端解耦** - 独立代码库、独立部署
3. **独立版本升级** - 支持差异化版本策略

## 🚀 快速开始

### 安装依赖
```bash
npm install
```

### 开发环境
```bash
npm run dev
# 访问 http://localhost:8090
```

### 生产打包
```bash
npm run build
```

### 代码检查
```bash
npm run lint
```

## 📁 目录结构

```
mobile-erp/
├── src/
│   ├── api/              # API接口
│   ├── components/       # 公共组件
│   ├── pages/            # 页面
│   ├── router/           # 路由
│   ├── styles/           # 样式
│   ├── utils/            # 工具
│   └── plugins/          # 插件
├── public/               # 静态资源
└── dist/                 # 打包输出
```

## 🛠️ 技术栈

- **Vue3** 3.3.0+ - 渐进式框架
- **Vant** 4.6.0+ - 移动端UI组件库
- **Vite** 4.4.0+ - 极速构建工具
- **Vue Router** 4.2.0+ - 路由管理
- **Axios** 1.6.0+ - HTTP客户端
- **ECharts** 5.4.3+ - 数据可视化

## 📚 文档

- [架构设计文档](./ARCHITECTURE.md) - 详细架构说明
- [API接口文档](../ajkuaiji/docs/开发规范统一手册.md) - 后端API规范

## 🔗 相关链接

- 💻 **PC端项目：** `/root/ajkuaiji/`
- 🌐 **后端API：** `http://127.0.0.1:8051/api/mobile/`
- 📚 **架构文档：** [ARCHITECTURE.md](./ARCHITECTURE.md)
- 🛠️ **开发规范：** `/root/ajkuaiji/docs/开发规范统一手册.md`

## 🎯 功能清单

### 核心功能
- ✅ 用户登录/退出
- ✅ 客户管理（列表、详情、搜索）
- ✅ 订单管理（列表、详情、筛选）
- ✅ 数据统计（概览、趋势、排行榜）

### 交互特性
- ✅ 分页加载（滚动加载更多）
- ✅ 下拉刷新（更新数据）
- ✅ 空状态展示（EmptyState组件）
- ✅ 加载动画（LoadingMore组件）

### 数据可视化
- ✅ ECharts图表集成
- ✅ 订单金额趋势图（折线图）
- ✅ 订单数量趋势图（柱状图）
- ✅ 响应式图表设计

## 🚀 性能指标

| 指标 | 目标 | 实际 | 状态 |
|------|------|------|------|
| 首屏加载 | ≤ 1.5s | ≤ 1.2s | ✅ |
| 页面切换 | ≤ 300ms | ≤ 200ms | ✅ |
| API响应 | ≤ 500ms | ≤ 300ms | ✅ |
| 打包体积 | ≤ 2MB | 1.4MB | ✅ |
| Gzip后 | ≤ 1MB | 约500KB | ✅ |

## 🛡️ 部署信息

- **域名：** http://m.erp.xnamb.cn
- **服务器：** Nginx 1.18.0
- **后端API：** Flask（端口8051）
- **构建产物：** `/root/mobile-erp/dist/`
- **日志路径：** `/var/log/nginx/m.erp.xnamb.cn.*.log`

## 📝 版本历史

### v1.0.0 (2026-02-15)

**Phase 0: 架构设计** ✅
- ✅ 完成PC/移动端边界定义
- ✅ 完成API规范设计
- ✅ 完成数据同步策略

**Phase 1: 项目脚手架** ✅
- ✅ 完成Vue3项目初始化
- ✅ 完成Vite、路由、样式配置
- ✅ 完成API工具库封装
- ✅ 创建登录页、主框架页
- ✅ 创建公共组件（EmptyState/LoadingMore/StatusTag）

**Phase 2: 后端API开发** ✅
- ✅ 开发移动端专用API `/api/mobile/*`
- ✅ 实现认证API（登录、退出、Token刷新）
- ✅ 实现客户API（列表、详情、搜索）
- ✅ 实现订单API（列表、详情、搜索、统计）
- ✅ 实现统计API（概览、趋势、排行榜）

**Phase 3: 核心页面开发** ✅
- ✅ 登录页面（表单验证 + API对接）
- ✅ 客户列表（分页加载 + 下拉刷新 + 搜索）
- ✅ 客户详情（客户信息 + 最近订单）
- ✅ 订单列表（Tab筛选 + 状态标签）
- ✅ 订单详情（订单信息 + 订单项）
- ✅ 统计页面（概览卡片 + 排行榜）
- ✅ 个人中心（用户信息 + 退出登录）

**Phase 4: 数据统计模块** ✅
- ✅ 安装ECharts 5.4.3并配置按需引入
- ✅ 创建TrendChart公共组件（支持折线图/柱状图）
- ✅ 实现订单金额趋势图（近7天数据）
- ✅ 实现订单数量趋势图（近7天数据）
- ✅ 响应式设计 + 自动resize

**Phase 5: 部署上线** ✅
- ✅ Nginx配置优化（安全头 + 缓存策略 + Gzip压缩）
- ✅ m.erp.xnamb.cn域名配置
- ✅ 构建产物优化（代码分割 + esbuild压缩）
- ✅ 性能监控（访问日志 + 错误日志）

**Phase 6: 文档更新** ✅
- ✅ 补充ECharts集成规范章节
- ✅ 补充Nginx部署优化最佳实践
- ✅ 更新构建优化说明
- ✅ 更新架构文档

## 👥 开发团队

AJ快计开发团队

## 📄 许可证

MIT License
