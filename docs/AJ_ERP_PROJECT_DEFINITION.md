# AJ_ERP_PROJECT_DEFINITION.md (项目定义)
# AJ快计ERP系统 - 项目定义文档

**文档版本**: v1.0  
**创建日期**: 2026-02-17  
**文档类型**: 项目定义  
**适用范围**: 系统架构师、项目经理、开发团队  

---

## 🎯 项目概述

### 项目名称
AJ快计财务管理系统（ERP System）

### 项目定位
基于SaaS模式的多租户企业资源规划系统，专注于为中小企业提供一体化的财务管理、订单处理、客户服务和物流管理解决方案。

### 核心价值
- **一体化管理**: 集成财务、订单、客户、物流等核心业务模块
- **多租户架构**: 支持多个独立企业同时使用，数据完全隔离
- **云端部署**: 基于Web的SaaS服务，随时随地访问
- **智能物流**: 集成菜鸟ISV电子面单，自动化发货流程

---

## 🏗️ 系统架构

### 整体架构图
```
┌─────────────────────────────────────────────────────────────────────┐
│                        AJ快计ERP系统架构                              │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌─────────────────────┐    ┌─────────────────────┐               │
│  │   管理员控制系统     │    │    租户业务系统      │               │
│  │ (控制端 super.xnamb.cn)│    │ (业务端 erp.xnamb.cn) │               │
│  └─────────────────────┘    └─────────────────────┘               │
│           │                           │                            │
│           ▼                           ▼                            │
│  ┌─────────────────────┐    ┌─────────────────────┐               │
│  │   console.html      │    │ financial_system.html │               │
│  │   (平台管理界面)     │    │   (租户业务界面)      │               │
│  └─────────────────────┘    └─────────────────────┘               │
│           │                           │                            │
│           ▼                           ▼                            │
│  ┌─────────────────────┐    ┌─────────────────────┐               │
│  │  控制台API模块       │    │   业务API模块        │               │
│  │ /api/admin/*        │    │   /api/*            │               │
│  └─────────────────────┘    └─────────────────────┘               │
│           │                           │                            │
│           └─────────────┬─────────────┘                            │
│                         ▼                                          │
│              ┌─────────────────────┐                               │
│              │    统一后端服务      │                               │
│              │   backend/app.py     │                               │
│              └─────────────────────┘                               │
│                         │                                          │
│                         ▼                                          │
│              ┌─────────────────────┐                               │
│              │     MySQL数据库      │                               │
│              │   ajkuaiji@localhost │                               │
│              └─────────────────────┘                               │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 技术栈
- **后端**: Python 3.9.25 + Flask 2.3.3 + MySQL 8.0.36
- **前端**: JavaScript ES6+ + Tailwind CSS 2.2.19
- **部署**: Linux Ubuntu 24.04 + Nginx + 宝塔面板
- **数据库**: MySQL 8.0.36 (ajkuaiji@47.98.60.197:3306)

---

## 📁 系统模块结构

### 核心业务模块
```
financial_system.html
├── 🏠 仪表盘
│   ├── 今日数据概览
│   ├── 待处理订单
│   └── 快捷操作入口
│
├── 📋 订单管理
│   ├── 销售订单
│   └── 售后订单
│
├── 👤 客户管理
│   ├── 客户列表
│   ├── 客户详情
│   └── 客户跟进记录
│
├── 💰 财务管理
│   ├── 收款管理
│   ├── 付款管理
│   ├── 流水记录
│   └── 财务报表
│
├── 📦 商品服务
│   ├── 商品管理
│   ├── 服务项目
│   └── 库存管理
│
├── 🚚 物流管理
│   ├── 物流配置
│   │   ├── 物流账号
│   │   ├── 发货地址
│   │   └── 面单模板
│   ├── 订单发货
│   └── 物流跟踪
│
├── 👥 组织架构
│   ├── 部门管理
│   ├── 团队管理
│   └── 员工管理
│
├── 📊 统计分析
│   ├── 销售统计
│   ├── 客户分析
│   └── 业绩报表
│
└── ⚙️ 系统设置
    ├── 个人设置
    ├── 权限管理
    └── 系统偏好
```

### 管理控制模块
```
console.html
├── 🏠 首页概览
│   ├── 系统状态监控
│   ├── 租户统计图表
│   └── 待处理事项提醒
│
├── 👥 租户管理
│   ├── 租户列表
│   ├── 租户详情
│   ├── 服务开通/续费
│   └── 租户状态管理
│
├── 🛠️ 系统配置
│   ├── ISV全局配置
│   ├── 快递100配置
│   ├── 系统参数设置
│   └── 权限角色管理
│
├── 📊 数据统计
│   ├── 平台整体数据
│   ├── 租户业务分析
│   └── 系统运行报告
│
└── ⚙️ 系统管理
    ├── 用户管理
    ├── 日志监控
    └── 系统维护
```

---

## 🔐 权限体系

### 用户角色划分
```
┌─────────────────────────────────────────────────┐
│              系统权限架构                       │
├─────────────────────────────────────────────────┤
│                                                 │
│  ┌─────────────┐    ┌─────────────────┐        │
│  │ 平台管理员   │    │   租户用户       │        │
│  │ (superadmin) │    │ (tenant_user)   │        │
│  └─────────────┘    └─────────────────┘        │
│         │                     │                 │
│         ▼                     ▼                 │
│  ┌─────────────┐    ┌─────────────────┐        │
│  │ 控制台访问权  │    │ 业务系统访问权   │        │
│  │ - 租户管理    │    │ - 订单管理       │        │
│  │ - 系统配置    │    │ - 客户管理       │        │
│  │ - 数据统计    │    │ - 财务管理       │        │
│  │ - 系统管理    │    │ - 物流管理       │        │
│  └─────────────┘    │ - 组织架构       │        │
│                     │ - 统计分析       │        │
│                     │ - 系统设置       │        │
│                     └─────────────────┘        │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 数据隔离机制
- **多租户隔离**: 基于`tenant_id`或`company_id`实现数据隔离
- **权限控制**: 通过装饰器`@require_tenant_auth`实现API权限验证
- **会话管理**: Session中存储当前租户标识，确保数据访问安全

---

## 🎯 核心功能特性

### 1. 多租户SaaS架构
- 支持多个独立企业同时使用系统
- 完整的数据隔离机制
- 灵活的权限管理体系
- 独立的计费和服务周期管理

### 2. 智能物流集成
- 集成菜鸟ISV电子面单服务
- 支持多快递公司对接
- 自动化发货流程
- 实时物流轨迹跟踪

### 3. 完整业务流程
- 从客户管理到订单处理的完整链条
- 售后服务流程支持
- 财务收支一体化管理
- 数据统计分析功能

### 4. 灵活扩展性
- 模块化架构设计
- API驱动的前后端分离
- 支持第三方系统集成
- 可定制的业务规则配置

---

## 📊 项目指标

### 技术指标
- **响应时间**: 页面加载 < 2秒，API响应 < 500ms
- **并发能力**: 支持1000+并发用户
- **数据容量**: 单租户支持10万+订单记录
- **可用性**: 99.9%系统可用率

### 业务指标
- **租户数量**: 支持100+独立企业
- **用户规模**: 单租户支持1000+用户
- **处理能力**: 日处理订单10000+
- **扩展能力**: 支持业务快速增长需求

---

## 🚀 项目路线图

### 已完成阶段
- ✅ 核心业务系统开发
- ✅ 多租户架构实现
- ✅ 物流模块集成
- ✅ 售后服务流程
- ✅ 系统监控和日志

### 当前阶段
- 🔧 系统优化和完善
- 🔧 文档体系完善
- 🔧 性能调优测试

### 未来规划
- 📅 移动端应用开发
- 📅 AI智能分析功能
- 📅 第三方系统深度集成
- 📅 国际化多语言支持

---

**文档维护**: 开发团队  
**最后更新**: 2026-02-17